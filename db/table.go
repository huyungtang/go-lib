package db

// constants & variables ******************************************************************************************************************
// ****************************************************************************************************************************************
// ****************************************************************************************************************************************

// public functions ***********************************************************************************************************************
// ****************************************************************************************************************************************
// ****************************************************************************************************************************************

// type defineds **************************************************************************************************************************
// ****************************************************************************************************************************************
// ****************************************************************************************************************************************

// Table
// ****************************************************************************************************************************************
type Table interface {
	Query

	LockForUpdate() Table

	Select(interface{}, ...interface{}) Table
	Omit(...string) Table

	Join(string, ...interface{}) Table
	Preload(string, ...interface{}) Table

	Available() Table
	Where(interface{}, ...interface{}) Table
	Having(interface{}, ...interface{}) Table

	Order(interface{}) Table
	Group(string) Table

	Offset(int) Table
	Limit(int) Table

	Create(interface{}) error
	Get(interface{}) error
	Update(interface{}) error
	Delete() error
	Count() (int64, error)

	Exec(string, ...interface{}) error

	Begin() Transaction

	ResetClauses()

	CreateColumns() []string
	UpdateColumns() []string
}

// Transaction
// ****************************************************************************************************************************************
type Transaction interface {
	Table

	Rollback()
	Commit() error
}

// Query
// ****************************************************************************************************************************************
type Query interface {
	GetById(interface{}, interface{}) error
	GetPagedList(interface{}) error
}

// TableName
// ****************************************************************************************************************************************
type TableName interface {
	TableName() string
}

// private functions **********************************************************************************************************************
// ****************************************************************************************************************************************
// ****************************************************************************************************************************************
