package numbers

import (
	"math/rand"
	"sort"
	"time"

	"golang.org/x/exp/constraints"
)

// constants & variables ******************************************************************************************************************
// ****************************************************************************************************************************************
// ****************************************************************************************************************************************

// public functions ***********************************************************************************************************************
// ****************************************************************************************************************************************
// ****************************************************************************************************************************************

// Max
// ****************************************************************************************************************************************
func Max[T numeric](ts ...T) T {
	sort.SliceStable(ts, func(i, j int) bool {
		return ts[i] > ts[j]
	})

	return ts[0]
}

// Min
// ****************************************************************************************************************************************
func Min[T numeric](ts ...T) T {
	sort.SliceStable(ts, func(i, j int) bool {
		return ts[i] < ts[j]
	})

	return ts[0]
}

// Rand
// ****************************************************************************************************************************************
func Rand(min, max int) Random {
	return &random{
		rand.New(rand.NewSource(time.Now().UnixNano())),
		max,
		min,
	}
}

// type defineds **************************************************************************************************************************
// ****************************************************************************************************************************************
// ****************************************************************************************************************************************

// Random
// ****************************************************************************************************************************************
type Random interface {
	NextInt() int
}

// random *********************************************************************************************************************************
type random struct {
	*rand.Rand
	max int
	min int
}

// Next
// ****************************************************************************************************************************************
func (o *random) NextInt() int {
	return o.Rand.Intn(o.max-o.min) + o.min
}

// numeric ********************************************************************************************************************************
type numeric interface {
	constraints.Integer | constraints.Float
}

// private functions **********************************************************************************************************************
// ****************************************************************************************************************************************
// ****************************************************************************************************************************************
